:active_versions:
  :object_class: Array
  :allowed_min: 1
  :allowed: 
    - 1

:apply_config:
  :object_class: Hash
  :required:
    :renderer_version: Fixnum
    :assets: :assets_hash
    :layout: :file
    :modals: :files
    :page_templates: :files
    :ruby_eval: :code_eval_hash
    :page_configs: :page_configs
  :allowed:
    :additional_templates: :full_file_paths
    :include: :include_hash
    :shared_configs: :component_configs

:assets:
  :object_class: Hash
  :required:
    :apply: :files
    :basic: :files

:boolean:
  :object_classes: [TrueClass, FalseClass]

:code_eval_hash:
  :object_class: Hash
  :allowed:
    :days: String
    :income_types: String
    :months: String
    :loan_purposes: String
    :self_credit_scores: String
    :states: String
    :years: String
    :years_last_50: String
    :pay_frequency: String
    :upload_types: String
  :language: :ruby

# TODO finish individual component configs: footer(done) form header progress? sidebar text_body
:footer_config:
  :object_class: Hash
  :required:
    :elements: :footer_element

:form_config:
  :object_class: Hash
  :required:
    :sections: :form_sections

:header_config:
  :object_class: Hash
  :required:
    :sections: :header_sections

# Keep progress steps or no?
# :progress_config:
#   :object_class: Hash

:sidebar_config:
  :object_class: Hash
  :required:
    :elements: :sidebar_elements

:text_body_config:
  :object_class: Hash
  :required:
    :sections: :text_body_sections

:component_configs:
  :object_class: Hash
  :required_from_sister:
    -
      :sister_key: :components
      :req_key: '%{sister_val}'
      :req_val: '%{sister_val}_config'


:components:
  :object_class: Array
  :value_types: [String]
  :allowed:
    - footer
    - form
    - header
    - progress
    - sidebar
    - text_body

:config: # root config
  :object_class: Hash
  :required:
    :active_versions: :active_versions
    :apply: :apply_config

:file:
  :object_class: String
  :validations:
    -
      :type: Regexp
      :parameters: '/^[\w\d_-]*(\.[\w]{3,4})*$/'

:files:
  :object_class: Array
  :value_types:
    - :file

:fixnums:
  :object_class: Array
  :value_types: [Fixnum]

:footer_element:
  :object_class: Hash
  :required:
    :partial: :file
  :required_when:
    :partial:
      :legal_notices:
        :sections: :legal_sections

:full_file_path:
  :object_class: String
  :validations:
    -
      :type: Regexp
      :parameters: '/^[\/\\]{1,2}[\w\d_-\/\\]*(\.[\w]{3,4})*$/'

:full_file_paths:
  :object_class: Array
  :value_types:
    - :full_file_path

:include_hash:
  :object_class: Hash
  :allowed:
    :threat_matrix: :boolean

:icon_string:
  :object_class: String
  :validations:
    -
      :type: Regexp
      :paramaters: /^#[\w-]*$/

:legal_sections:
  :object_class: Array
  :value_types:
    - :legal_section

:legal_section:
  :object_class: Hash
  :required:
    :partial: :file
  :required_when:
    :partial:
      :declined_legal:
        :details: :legal_section_details

:legal_section_details:
  :object_class: Hash
  :allowed:
    :small_sections: :text_sections

:page_config:
  :object_class: Hash
  :required:
    :components: :components
    :component_configs: :component_configs
  :allowed:
    :template: 

:page_configs:
  :object_class: Hash
  :required_from_sister:
    -
      :sister_key: :page_templates
      :req_key: '%{sister_val}'
      :req_value: :page_config

:text_body_config:
  :object_class: Hash
  :required:
    :sections: Hash # TODO sections

:text_line:
  :object_class: String

:text_lines:
  :object_class: Array
  :value_types:
    - :text_line

:text_sections:
  :object_class: Array
  :value_types:
    - :text_section

:text_section:
  :object_class: Hash
  :allowed_min: 1
  :allowed_max: 2
  :allowed:
    :attrs: Hash
    :template: :text_template
    :text: :text_line
    :text_lines: :text_lines

:text_template:
  :object_class: Hash
  :required:
    :text: :text_line
    :data: :text_template_data

:text_template_data:
  :object_class: Hash
  :allow_min: 1
  :allow_any: :text_template_data_interpolation

:text_template_data_interpolation:
  :object_class: Hash
  :required:
    :link_type: :text_template_link_type_string
  :required_when:
    :link_type:
      :modal:
        :link_text: String
        :link_target: :file
      :url:
        :link_text: String
        :link_target: :url
      :tooltip:
        :link_content: String
  :allowed_when:
    :link_type:
      :tooltip:
        :link_icon: :icon_string
        :link_text: String

:text_template_link_type_string:
  :object_class: String
  :validations:
    -
      :type: :included_in?
      :parameters:
        - modal
        - url
        - tooltip

:url:
  :object_class: String
  :validations:
    -
      :type: Regexp
      :parameters: '/^https?:\/\/([-_\w\d]*\.)*[\w]{2,3}(\/[-_\#!\w\d\.]*)*$/'

:version_config:
  :object_class: Hash
  :required:
    :apply: :apply_config
